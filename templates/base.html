<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Food ERP (CEO Mode)</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <style>
        body { font-family: 'Malgun Gothic', sans-serif; background-color: #f8f9fa; }
        .sidebar { min-width: 260px; min-height: 100vh; background-color: #2c3e50; color: #ecf0f1; }
        .sidebar a { color: #bdc3c7; text-decoration: none; display: block; padding: 10px 20px; font-size: 0.95rem; }
        .sidebar a:hover { background-color: #34495e; color: #fff; }
        .sidebar .category { font-size: 0.75rem; text-transform: uppercase; color: #95a5a6; padding: 15px 20px 5px; font-weight: bold; letter-spacing: 1px; }
        .sidebar .brand { font-size: 1.5rem; font-weight: bold; padding: 20px; text-align: center; color: #fff; border-bottom: 1px solid #34495e; }
        .active-link { color: #fff !important; background-color: #34495e; border-left: 4px solid #3498db; }
    </style>
</head>
<body class="d-flex">

    <nav class="sidebar">
    <div class="brand">
        <i class="bi bi-globe-asia-australia me-2"></i>PACIFIC PROUD
    </div>

    <div class="category">메인 (Main)</div>
    <a href="{% url 'fulfillment:dashboard' %}"><i class="bi bi-speedometer2 me-2"></i> CEO 대시보드</a>

    <div class="category">물류 관리 (Logistics)</div>
    {% if perms.fulfillment.view_inventory %}
    <a href="{% url 'fulfillment:inbound_create' %}"><i class="bi bi-box-seam me-2"></i> 입고 등록 (바코드)</a>
    <a href="{% url 'fulfillment:purchase_list' %}"><i class="bi bi-cart-plus me-2"></i> 발주/매입 관리</a>
    <a href="{% url 'fulfillment:order_list' %}"><i class="bi bi-truck me-2"></i> 주문/출고 관리</a>
    <a href="{% url 'fulfillment:inventory_list' %}"><i class="bi bi-boxes me-2"></i> 실시간 재고 조회</a>
    {% endif %}

    <div class="category">재무/회계 (Finance)</div>
    {% if perms.fulfillment.view_expense %}
    <a href="{% url 'fulfillment:monthly_report' %}"><i class="bi bi-file-earmark-bar-graph me-2"></i> 월간 손익보고서</a>
    <a href="{% url 'fulfillment:expense_list' %}"><i class="bi bi-cash-coin me-2"></i> 비용/지출 내역</a>
    {% endif %}

    <div class="category">인사/급여 (HR)</div>
    {% if perms.fulfillment.view_employee %}
    <a href="{% url 'fulfillment:employee_list' %}"><i class="bi bi-people me-2"></i> 직원 명부</a>
    <a href="{% url 'fulfillment:payroll_list' %}"><i class="bi bi-wallet2 me-2"></i> 급여 대장</a>
    {% endif %}

    <div class="category">기초 정보 (Master)</div>
    <a href="{% url 'fulfillment:partner_list' %}"><i class="bi bi-building me-2"></i> 거래처 관리</a>
    <a href="{% url 'fulfillment:product_list' %}"><i class="bi bi-tags me-2"></i> 상품 관리</a>
    
    <div class="mt-5 px-3 mb-4">
        <a href="{% url 'fulfillment:company_update' %}" class="btn btn-outline-light btn-sm w-100 mb-2">
            <i class="bi bi-gear-fill me-1"></i> 회사 정보 설정
        </a>
        
        {% if user.is_superuser %}
        <a href="/admin/" target="_blank" class="btn btn-danger btn-sm w-100">
            <i class="bi bi-shield-lock-fill me-1"></i> 관리자(Admin) 페이지
        </a>
        {% endif %}
    </div>
</nav>

    <div class="flex-grow-1 p-4">
        {% if messages %}
            {% for message in messages %}
                <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            {% endfor %}
        {% endif %}

        {% block content %}
        {% endblock %}
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>