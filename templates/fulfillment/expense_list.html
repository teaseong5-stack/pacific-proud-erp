{% extends 'base.html' %}
{% load humanize %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
    <h2>ğŸ’¸ ë¹„ìš©/ì§€ì¶œ ë‚´ì—­</h2>
    <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addModal"><i class="bi bi-plus-lg"></i> ì§€ì¶œ ë“±ë¡</button>
</div>
<div class="card shadow-sm mt-3">
    <table class="table table-hover align-middle mb-0">
        <thead class="table-light"><tr><th>ë‚ ì§œ</th><th>ê³„ì •ê³¼ëª©</th><th>ë‚´ìš©</th><th class="text-end">ê¸ˆì•¡</th><th>ì¦ë¹™</th><th class="text-center">ê´€ë¦¬</th></tr></thead>
        <tbody>
            {% for ex in expenses %}
            <tr>
                <td>{{ ex.date|date:"Y-m-d" }}</td>
                <td><span class="badge bg-secondary">{{ ex.get_category_display }}</span></td>
                <td>{{ ex.description }}</td>
                <td class="text-end fw-bold text-danger">- {{ ex.amount|intcomma }} Ä‘</td>
                <td>{% if ex.has_proof %}âœ…{% else %}âŒ{% endif %}</td>
                <td class="text-center">
                    <a href="{% url 'fulfillment:expense_update' ex.id %}" class="btn btn-sm btn-outline-primary"><i class="bi bi-pencil-square"></i></a>
                    <a href="{% url 'fulfillment:expense_delete' ex.id %}" class="btn btn-sm btn-outline-danger"><i class="bi bi-trash"></i></a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
<div class="modal fade" id="addModal" tabindex="-1" aria-hidden="true"><div class="modal-dialog modal-dialog-centered"><div class="modal-content"><div class="modal-header bg-primary text-white"><h5 class="modal-title">ğŸ’¸ ì§€ì¶œ ë“±ë¡</h5><button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button></div><form method="post" action="{% url 'fulfillment:expense_create' %}">{% csrf_token %}<div class="modal-body"><div class="row g-3"><div class="col-6"><label class="form-label fw-bold">ë‚ ì§œ</label>{{ form.date }}</div><div class="col-6"><label class="form-label fw-bold">ê³„ì •ê³¼ëª©</label>{{ form.category }}</div><div class="col-12"><label class="form-label fw-bold">ë‚´ìš©</label>{{ form.description }}</div><div class="col-8"><label class="form-label fw-bold">ê¸ˆì•¡</label>{{ form.amount }}</div><div class="col-4 d-flex align-items-end"><div class="form-check mb-2">{{ form.has_proof }}<label class="form-check-label">ì¦ë¹™ ìœ ë¬´</label></div></div></div></div><div class="modal-footer"><button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ì·¨ì†Œ</button><button type="submit" class="btn btn-primary">ì €ì¥</button></div></form></div></div></div>
{% endblock %}